import{j as e}from"./vendor-animation-Qsj9kxsB.js";import{h as y,r as i}from"./vendor-react-DCKpLLFa.js";import{i as f,k as j,l as v,N as S,O as k,R as w}from"./index-Gdjm1SHZ.js";import{A as c}from"./AdminLayout-B44TAUY9.js";import{u as C}from"./Header-DWqEjzJy.js";import"./vendor-redux-CQqb5_oh.js";import"./vendor-supabase-DpMu9OXC.js";import"./vendor-icons-90zywYms.js";const N=()=>{const l=f(),p=y(),r=j(v),{showConfirm:h}=C(),[u,d]=i.useState(!1),[n,s]=i.useState(r?.name||""),[x,a]=i.useState(r?.email||""),[o,m]=i.useState(!1),b=async t=>{t.preventDefault(),m(!0);try{await l(S({name:n})).unwrap(),d(!1)}catch{}finally{m(!1)}},g=async()=>{h({title:"로그아웃",message:"로그아웃 하시겠습니까?",type:"warning",confirmText:"로그아웃",cancelText:"취소",onConfirm:async()=>{await l(k()),p(w.HOME)}})};return r?e.jsx(c,{children:e.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[e.jsx("h1",{children:"내 프로필"}),e.jsx("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginBottom:"1.5rem"},children:u?e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"name",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"이름"}),e.jsx("input",{id:"name",type:"text",value:n,onChange:t=>s(t.target.value),required:!0,disabled:o,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"이메일"}),e.jsx("input",{id:"email",type:"email",value:x,onChange:t=>a(t.target.value),required:!0,disabled:o,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{type:"submit",disabled:o,style:{padding:"0.75rem 1.5rem",backgroundColor:o?"#95a5a6":"#2ecc71",color:"white",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:o?"not-allowed":"pointer"},children:o?"저장 중...":"저장"}),e.jsx("button",{type:"button",onClick:()=>{d(!1),s(r.name||""),a(r.email||"")},disabled:o,style:{padding:"0.75rem 1.5rem",backgroundColor:"#95a5a6",color:"white",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:o?"not-allowed":"pointer"},children:"취소"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",color:"#666",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"이름"}),e.jsx("div",{style:{fontSize:"1.1rem"},children:r.name})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",color:"#666",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"이메일"}),e.jsx("div",{style:{fontSize:"1.1rem"},children:r.email})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",color:"#666",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"역할"}),e.jsx("span",{style:{padding:"0.5rem 1rem",backgroundColor:r.role==="admin"?"#e74c3c":"#3498db",color:"white",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"bold"},children:r.role==="admin"?"관리자":"사용자"})]}),e.jsx("button",{onClick:()=>d(!0),style:{padding:"0.75rem 1.5rem",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"프로필 수정"})]})}),e.jsxs("div",{style:{backgroundColor:"#fff5f5",padding:"1.5rem",borderRadius:"8px",border:"1px solid #feb2b2"},children:[e.jsx("h3",{style:{marginTop:0,color:"#c53030"},children:"위험 영역"}),e.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"아래 작업은 신중하게 수행해야 합니다."}),e.jsx("button",{onClick:g,style:{padding:"0.75rem 1.5rem",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"로그아웃"})]})]})}):e.jsx(c,{children:e.jsx("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:e.jsx("h1",{children:"프로필 정보를 불러올 수 없습니다."})})})};export{N as default};
