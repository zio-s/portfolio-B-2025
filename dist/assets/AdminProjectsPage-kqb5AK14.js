import{j as e}from"./vendor-animation-DtZQNC6I.js";import{r as m}from"./vendor-react-DCKpLLFa.js";import{A as L}from"./AdminLayout-D4LQ0imw.js";import{X as G,C as v,L as U,a7 as K,a8 as E,E as M,H as $,M as R,a9 as D,Y as I}from"./vendor-icons-coWQDWRu.js";import{u as W}from"./use-alert-modal-B73JBodO.js";import{u as X}from"./Header-Dr8E-v62.js";import{u as q,U as Q,V as Y,W as J,X as Z}from"./index-EmnU2dnG.js";import"./vendor-redux-CQqb5_oh.js";import"./vendor-supabase-DpMu9OXC.js";const ee=({project:s,onSubmit:c,onCancel:u,isOpen:i})=>{const[t,a]=m.useState({title:"",description:"",content:"",thumbnail:"",images:"",techStack:"",category:"web",tags:"",githubUrl:"",liveUrl:"",status:"public",featured:!1}),[n,f]=m.useState(!1),[o,d]=m.useState({}),[g,j]=m.useState(!1),[N,y]=m.useState(!1);m.useEffect(()=>{a(s?{title:s.title||"",description:s.description||"",content:s.content||"",thumbnail:s.thumbnail||"",images:s.images?.join(`
`)||"",techStack:s.techStack?.join(", ")||"",category:s.category||"web",tags:s.tags?.join(", ")||"",githubUrl:s.githubUrl||"",liveUrl:s.liveUrl||"",status:s.status||"public",featured:s.featured||!1}:{title:"",description:"",content:"",thumbnail:"",images:"",techStack:"",category:"web",tags:"",githubUrl:"",liveUrl:"",status:"public",featured:!1}),d({})},[s,i]),m.useEffect(()=>{if(i)y(!0),setTimeout(()=>j(!0),10);else{j(!1);const r=setTimeout(()=>y(!1),300);return()=>clearTimeout(r)}},[i]),m.useEffect(()=>{const r=p=>{p.key==="Escape"&&i&&u()};return i&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow=""}},[i,u]);const w=()=>{const r={};return t.title.trim()||(r.title="ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),t.description.trim()||(r.description="ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),t.content.trim()||(r.content="ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),t.thumbnail.trim()||(r.thumbnail="ì¸ë„¤ì¼ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),t.techStack.trim()||(r.techStack="ê¸°ìˆ  ìŠ¤íƒì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),d(r),Object.keys(r).length===0},k=async r=>{if(r.preventDefault(),!!w()){f(!0);try{const p={title:t.title,description:t.description,content:t.content,thumbnail:t.thumbnail,images:t.images.split(`
`).map(b=>b.trim()).filter(Boolean),techStack:t.techStack.split(",").map(b=>b.trim()).filter(Boolean),category:t.category,tags:t.tags.split(",").map(b=>b.trim()).filter(Boolean),githubUrl:t.githubUrl||void 0,liveUrl:t.liveUrl||void 0,status:t.status,featured:t.featured};await c(p)}catch{}finally{f(!1)}}};return N?e.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 md:p-8 bg-background/80 backdrop-blur-sm transition-opacity duration-300 ${g?"opacity-100":"opacity-0"}`,onClick:u,children:e.jsxs("div",{className:`relative w-full max-w-3xl max-h-[90vh] overflow-y-auto bg-card border border-border rounded-lg shadow-xl transition-all duration-300 ${g?"opacity-100 scale-100":"opacity-0 scale-90"}`,onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between px-6 py-4 bg-card border-b border-border",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:s?"í”„ë¡œì íŠ¸ ìˆ˜ì •":"ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±"}),e.jsx("button",{onClick:u,className:"p-2 rounded-md hover:bg-muted transition-all duration-200 text-muted-foreground hover:text-foreground cursor-pointer hover:rotate-90",disabled:n,children:e.jsx(G,{className:"w-5 h-5 transition-transform duration-200"})})]}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ì œëª© ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("input",{type:"text",value:t.title,onChange:r=>a({...t,title:r.target.value}),className:`w-full px-4 py-2.5 rounded-lg border bg-muted text-foreground transition-colors placeholder:text-muted-foreground ${o.title?"border-destructive focus:border-destructive focus:ring-destructive/20":"border-border focus:border-accent focus:ring-accent/20"} focus:outline-none focus:ring-2`,placeholder:"í”„ë¡œì íŠ¸ ì œëª©",disabled:n}),o.title&&e.jsxs("p",{className:"mt-1.5 text-sm text-destructive flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),o.title]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ì„¤ëª… ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("textarea",{value:t.description,onChange:r=>a({...t,description:r.target.value}),rows:3,className:`w-full px-4 py-2.5 rounded-lg border bg-muted text-foreground transition-colors resize-none placeholder:text-muted-foreground ${o.description?"border-destructive focus:border-destructive focus:ring-destructive/20":"border-border focus:border-accent focus:ring-accent/20"} focus:outline-none focus:ring-2`,placeholder:"ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ ì„¤ëª…",disabled:n}),o.description&&e.jsxs("p",{className:"mt-1.5 text-sm text-destructive flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),o.description]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ë‚´ìš© (Markdown) ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("textarea",{value:t.content,onChange:r=>a({...t,content:r.target.value}),rows:10,className:`w-full px-4 py-2.5 rounded-lg border bg-muted text-foreground transition-colors resize-vertical font-mono text-sm placeholder:text-muted-foreground ${o.content?"border-destructive focus:border-destructive focus:ring-destructive/20":"border-border focus:border-accent focus:ring-accent/20"} focus:outline-none focus:ring-2`,placeholder:"Markdown í˜•ì‹ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìƒì„¸ ë‚´ìš© ì‘ì„±",disabled:n}),o.content&&e.jsxs("p",{className:"mt-1.5 text-sm text-destructive flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),o.content]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ì¸ë„¤ì¼ URL ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("input",{type:"url",value:t.thumbnail,onChange:r=>a({...t,thumbnail:r.target.value}),className:`w-full px-4 py-2.5 rounded-lg border bg-muted text-foreground transition-colors placeholder:text-muted-foreground ${o.thumbnail?"border-destructive focus:border-destructive focus:ring-destructive/20":"border-border focus:border-accent focus:ring-accent/20"} focus:outline-none focus:ring-2`,placeholder:"https://example.com/image.jpg",disabled:n}),o.thumbnail&&e.jsxs("p",{className:"mt-1.5 text-sm text-destructive flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),o.thumbnail]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ì¹´í…Œê³ ë¦¬ ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs("select",{value:t.category,onChange:r=>a({...t,category:r.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-border bg-muted text-foreground focus:border-accent focus:ring-2 focus:ring-accent/20 focus:outline-none transition-colors cursor-pointer",disabled:n,children:[e.jsx("option",{value:"web",children:"Web"}),e.jsx("option",{value:"mobile",children:"Mobile"}),e.jsx("option",{value:"backend",children:"Backend"}),e.jsx("option",{value:"fullstack",children:"Fullstack"}),e.jsx("option",{value:"design",children:"Design"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ì¶”ê°€ ì´ë¯¸ì§€ URLs ",e.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(í•œ ì¤„ì— í•˜ë‚˜ì”©)"})]}),e.jsx("textarea",{value:t.images,onChange:r=>a({...t,images:r.target.value}),rows:3,className:"w-full px-4 py-2.5 rounded-lg border border-border bg-muted text-foreground focus:border-accent focus:ring-2 focus:ring-accent/20 focus:outline-none transition-colors resize-vertical font-mono text-sm placeholder:text-muted-foreground",placeholder:`https://example.com/image1.jpg
https://example.com/image2.jpg`,disabled:n})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ê¸°ìˆ  ìŠ¤íƒ ",e.jsx("span",{className:"text-destructive",children:"*"})," ",e.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(ì‰¼í‘œë¡œ êµ¬ë¶„)"})]}),e.jsx("input",{type:"text",value:t.techStack,onChange:r=>a({...t,techStack:r.target.value}),className:`w-full px-4 py-2.5 rounded-lg border bg-muted text-foreground transition-colors placeholder:text-muted-foreground ${o.techStack?"border-destructive focus:border-destructive focus:ring-destructive/20":"border-border focus:border-accent focus:ring-accent/20"} focus:outline-none focus:ring-2`,placeholder:"React, TypeScript, Vite",disabled:n}),o.techStack&&e.jsxs("p",{className:"mt-1.5 text-sm text-destructive flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),o.techStack]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["íƒœê·¸ ",e.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(ì‰¼í‘œë¡œ êµ¬ë¶„)"})]}),e.jsx("input",{type:"text",value:t.tags,onChange:r=>a({...t,tags:r.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-border bg-muted text-foreground focus:border-accent focus:ring-2 focus:ring-accent/20 focus:outline-none transition-colors placeholder:text-muted-foreground",placeholder:"portfolio, interactive, rtk-query",disabled:n})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:"GitHub URL"}),e.jsx("input",{type:"url",value:t.githubUrl,onChange:r=>a({...t,githubUrl:r.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-border bg-muted text-foreground focus:border-accent focus:ring-2 focus:ring-accent/20 focus:outline-none transition-colors placeholder:text-muted-foreground",placeholder:"https://github.com/username/repo",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:"Live URL"}),e.jsx("input",{type:"url",value:t.liveUrl,onChange:r=>a({...t,liveUrl:r.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-border bg-muted text-foreground focus:border-accent focus:ring-2 focus:ring-accent/20 focus:outline-none transition-colors placeholder:text-muted-foreground",placeholder:"https://example.com",disabled:n})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2 text-foreground",children:["ê³µê°œ ìƒíƒœ ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs("select",{value:t.status,onChange:r=>a({...t,status:r.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-border bg-muted text-foreground focus:border-accent focus:ring-2 focus:ring-accent/20 focus:outline-none transition-colors cursor-pointer",disabled:n,children:[e.jsx("option",{value:"public",children:"Public (ê³µê°œ)"}),e.jsx("option",{value:"private",children:"Private (ë¹„ê³µê°œ)"})]})]}),e.jsx("div",{className:"flex items-end pb-1",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.featured,onChange:r=>a({...t,featured:r.target.checked}),className:"w-4 h-4 rounded border-border text-accent focus:ring-accent focus:ring-offset-0 cursor-pointer",disabled:n}),e.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Featured í”„ë¡œì íŠ¸ë¡œ í‘œì‹œ"})]})})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-3 pt-4 border-t border-border",children:[e.jsx("button",{type:"button",onClick:u,disabled:n,className:"w-full sm:w-auto px-6 py-2.5 rounded-lg border border-border bg-background hover:bg-muted transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"ì·¨ì†Œ"}),e.jsxs("button",{type:"submit",disabled:n,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-6 py-2.5 rounded-lg bg-accent text-white hover:bg-accent/90 transition-colors font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[n&&e.jsx(U,{className:"w-4 h-4 animate-spin"}),n?"ì €ì¥ ì¤‘...":s?"ìˆ˜ì •í•˜ê¸°":"ìƒì„±í•˜ê¸°"]})]})]})]})}):null},T=({currentOrder:s,maxOrder:c,onSave:u,onCancel:i})=>{const[t,a]=m.useState(String(s)),n=m.useRef(null);m.useEffect(()=>{n.current?.select()},[]);const f=d=>{if(d.key==="Enter"){const g=parseInt(t,10);!isNaN(g)&&g>=1&&g<=c&&u(g)}else d.key==="Escape"&&i()},o=()=>{const d=parseInt(t,10);!isNaN(d)&&d>=1&&d<=c?u(d):i()};return e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("input",{ref:n,type:"number",min:1,max:c,value:t,onChange:d=>a(d.target.value),onKeyDown:f,onBlur:o,className:"w-12 h-8 text-center text-sm border border-accent rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-accent",autoFocus:!0})})},te=({project:s,order:c,maxOrder:u,isEditingOrder:i,onEdit:t,onDelete:a,onToggleFeatured:n,onOrderClick:f,onOrderSave:o,onOrderCancel:d})=>e.jsxs("div",{className:"grid grid-cols-[60px_1fr_100px_100px_120px_100px] items-center border-b border-border hover:bg-muted/30 transition-all",children:[e.jsx("div",{className:"px-3 py-4 text-center",children:i?e.jsx(T,{currentOrder:c,maxOrder:u,onSave:o,onCancel:d}):e.jsx("button",{onClick:f,className:"w-10 h-8 inline-flex items-center justify-center text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-accent/10 rounded-md transition-colors border border-transparent hover:border-accent/30",title:"í´ë¦­í•˜ì—¬ ìˆœë²ˆ ë³€ê²½",children:c})}),e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"max-w-md",children:[e.jsx("div",{className:"font-semibold text-sm mb-1",children:s.title}),e.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description})]})}),e.jsx("div",{className:"px-4 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-accent/10 text-accent border border-accent/20",children:s.category})}),e.jsx("div",{className:"px-4 py-4 text-center",children:e.jsxs("button",{onClick:()=>n(s.id,s.featured),className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${s.featured?"bg-accent text-white hover:bg-accent/90":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[e.jsx(E,{className:`w-3 h-3 ${s.featured?"fill-current":""}`}),s.featured?"ëŒ€í‘œ":"ì¼ë°˜"]})}),e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"}),s.stats.views]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3"}),s.stats.likes]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),s.stats.comments]})]})}),e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>t(s),className:"p-2 rounded-md hover:bg-muted transition-colors text-foreground",title:"ìˆ˜ì •",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(s.id,s.title),className:"p-2 rounded-md hover:bg-destructive/10 transition-colors text-destructive",title:"ì‚­ì œ",children:e.jsx(I,{className:"w-4 h-4"})})]})})]}),se=({project:s,order:c,maxOrder:u,isEditingOrder:i,onEdit:t,onDelete:a,onToggleFeatured:n,onOrderClick:f,onOrderSave:o,onOrderCancel:d})=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card border-border space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i?e.jsx(T,{currentOrder:c,maxOrder:u,onSave:o,onCancel:d}):e.jsx("button",{onClick:f,className:"w-10 h-8 inline-flex items-center justify-center text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-accent/10 rounded-md transition-colors border border-muted hover:border-accent/30 flex-shrink-0",title:"í´ë¦­í•˜ì—¬ ìˆœë²ˆ ë³€ê²½",children:c}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1 truncate",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description})]}),s.featured&&e.jsx(E,{className:"w-4 h-4 text-accent fill-current flex-shrink-0"})]}),e.jsx("div",{children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-accent/10 text-accent border border-accent/20",children:s.category})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"}),s.stats.views]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3"}),s.stats.likes]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),s.stats.comments]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-border",children:[e.jsxs("button",{onClick:()=>n(s.id,s.featured),className:`flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-md text-xs font-medium transition-colors ${s.featured?"bg-accent text-white hover:bg-accent/90":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[e.jsx(E,{className:`w-3 h-3 ${s.featured?"fill-current":""}`}),s.featured?"ëŒ€í‘œ í”„ë¡œì íŠ¸":"ì¼ë°˜ í”„ë¡œì íŠ¸"]}),e.jsx("button",{onClick:()=>t(s),className:"px-3 py-2 rounded-md hover:bg-muted transition-colors text-foreground",title:"ìˆ˜ì •",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>a(s.id,s.title),className:"px-3 py-2 rounded-md hover:bg-destructive/10 transition-colors text-destructive",title:"ì‚­ì œ",children:e.jsx(I,{className:"w-4 h-4"})})]})]}),me=()=>{const[s,c]=m.useState(!1),[u,i]=m.useState(null),[t,a]=m.useState(null),{showAlert:n}=W(),{showConfirm:f}=X(),{data:o,isLoading:d,error:g}=q({limit:100,sort:"default"}),[j]=Q(),[N]=Y(),[y]=J(),[w,{isLoading:k}]=Z(),r=m.useMemo(()=>o?.items||[],[o?.items]),p=async(l,x)=>{a(null);const h=r.findIndex(S=>S.id===l);if(h===-1)return;const F=x-1;if(h===F)return;const C=[...r],[z]=C.splice(h,1);C.splice(F,0,z);const H=C.map((S,V)=>({id:S.id,sortOrder:V}));try{await w(H).unwrap(),n({title:"ìˆœì„œ ì €ì¥",message:`í”„ë¡œì íŠ¸ê°€ ${x}ë²ˆìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.`,type:"success"})}catch{n({title:"ìˆœì„œ ì €ì¥ ì‹¤íŒ¨",message:"í”„ë¡œì íŠ¸ ìˆœì„œ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",type:"error"})}},b=async(l,x)=>{f({title:"í”„ë¡œì íŠ¸ ì‚­ì œ",message:`"${x}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,type:"danger",confirmText:"ì‚­ì œ",cancelText:"ì·¨ì†Œ",onConfirm:async()=>{try{await j(l).unwrap(),n({title:"ì‚­ì œ ì™„ë£Œ",message:"í”„ë¡œì íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",type:"success"})}catch{n({title:"ì‚­ì œ ì‹¤íŒ¨",message:"í”„ë¡œì íŠ¸ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",type:"error"})}}})},P=async(l,x)=>{try{await N({id:l,featured:!x}).unwrap(),n({title:x?"ê³ ì • í•´ì œ":"ê³ ì • ì™„ë£Œ",message:x?"í”„ë¡œì íŠ¸ ê³ ì •ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.":"í”„ë¡œì íŠ¸ê°€ Featuredë¡œ ê³ ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",type:"success"})}catch{n({title:"Featured ì„¤ì • ì‹¤íŒ¨",message:"Featured ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",type:"error"})}},_=()=>{i(null),c(!0)},O=l=>{i(l),c(!0)},A=async l=>{try{u?(await N({id:u.id,...l}).unwrap(),n({title:"ìˆ˜ì • ì™„ë£Œ",message:"í”„ë¡œì íŠ¸ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",type:"success"})):(await y(l).unwrap(),n({title:"ìƒì„± ì™„ë£Œ",message:"í”„ë¡œì íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",type:"success"})),c(!1),i(null)}catch(x){throw n({title:"ì €ì¥ ì‹¤íŒ¨",message:"í”„ë¡œì íŠ¸ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",type:"error"}),x}},B=()=>{c(!1),i(null)};return d?e.jsx(L,{children:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx(U,{className:"w-8 h-8 animate-spin text-accent"})})}):e.jsxs(L,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"í”„ë¡œì íŠ¸"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤"})]}),e.jsxs("button",{onClick:_,className:"inline-flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-lg font-medium hover:bg-accent/90 transition-colors shadow-sm",children:[e.jsx(K,{className:"w-4 h-4"}),"ìƒˆ í”„ë¡œì íŠ¸"]})]}),g&&e.jsx("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/20",children:e.jsx("p",{className:"text-sm text-destructive",children:"í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."})}),k&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-accent/10 border border-accent/20",children:[e.jsx(U,{className:"w-4 h-4 animate-spin text-accent"}),e.jsx("span",{className:"text-sm text-accent",children:"ìˆœì„œ ì €ì¥ ì¤‘..."})]}),e.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ğŸ’¡ ",e.jsx("strong",{children:"ìˆœë²ˆ ë³€ê²½:"})," ì™¼ìª½ ìˆ«ìë¥¼ í´ë¦­í•˜ë©´ ìˆœë²ˆì„ ì§ì ‘ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (1 ~ ",r.length,")"]})}),e.jsxs("div",{className:"hidden md:block overflow-hidden rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"grid grid-cols-[60px_1fr_100px_100px_120px_100px] items-center border-b border-border bg-muted/50",children:[e.jsx("div",{className:"px-3 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider text-center",children:"ìˆœë²ˆ"}),e.jsx("div",{className:"px-4 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"ì œëª©"}),e.jsx("div",{className:"px-4 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"ì¹´í…Œê³ ë¦¬"}),e.jsx("div",{className:"px-4 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider text-center",children:"Featured"}),e.jsx("div",{className:"px-4 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider text-center",children:"í†µê³„"}),e.jsx("div",{className:"px-4 py-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider text-center",children:"ê´€ë¦¬"})]}),e.jsx("div",{children:r.map((l,x)=>e.jsx(te,{project:l,order:x+1,maxOrder:r.length,isEditingOrder:t===l.id,onEdit:O,onDelete:b,onToggleFeatured:P,onOrderClick:()=>a(l.id),onOrderSave:h=>p(l.id,h),onOrderCancel:()=>a(null)},l.id))})]}),e.jsx("div",{className:"md:hidden space-y-4",children:r.map((l,x)=>e.jsx(se,{project:l,order:x+1,maxOrder:r.length,isEditingOrder:t===l.id,onEdit:O,onDelete:b,onToggleFeatured:P,onOrderClick:()=>a(l.id),onOrderSave:h=>p(l.id,h),onOrderCancel:()=>a(null)},l.id))}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ì „ì²´ ",e.jsx("span",{className:"font-semibold text-foreground",children:r.length}),"ê°œì˜ í”„ë¡œì íŠ¸"]})]}),e.jsx(ee,{project:u,onSubmit:A,onCancel:B,isOpen:s})]})};export{me as AdminProjectsPage,me as default};
