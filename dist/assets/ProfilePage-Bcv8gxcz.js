import{j as e}from"./vendor-animation-DtZQNC6I.js";import{h as y,r as i}from"./vendor-react-DCKpLLFa.js";import{i as k,k as u,l as C,N as S,O as A,P as L,R as E}from"./index-EmnU2dnG.js";import{A as d}from"./AdminLayout-D4LQ0imw.js";import{u as P}from"./use-alert-modal-B73JBodO.js";import{u as U}from"./Header-Dr8E-v62.js";import{L as h,U as c,t as f,a2 as M,a3 as O,_ as F,X as R,a4 as T}from"./vendor-icons-coWQDWRu.js";import"./vendor-redux-CQqb5_oh.js";import"./vendor-supabase-DpMu9OXC.js";const J=()=>{const o=k(),g=y(),s=u(C),p=u(S),{showConfirm:j}=U(),{showAlert:r}=P(),[b,a]=i.useState(!1),[n,m]=i.useState(s?.name||""),[t,x]=i.useState(!1),N=async l=>{if(l.preventDefault(),!n.trim()){r({title:"입력 오류",message:"이름을 입력해주세요.",type:"warning"});return}x(!0);try{await o(A({name:n.trim()})).unwrap(),a(!1),r({title:"저장 완료",message:"프로필이 업데이트되었습니다.",type:"success"})}catch{r({title:"저장 실패",message:"프로필 업데이트에 실패했습니다.",type:"error"})}finally{x(!1)}},v=()=>{a(!1),m(s?.name||"")},w=()=>{j({title:"로그아웃",message:"로그아웃 하시겠습니까?",type:"warning",confirmText:"로그아웃",cancelText:"취소",onConfirm:async()=>{await o(L()),g(E.HOME)}})};return p?e.jsx(d,{children:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-accent"})})}):s?e.jsx(d,{children:e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"프로필"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"계정 정보를 확인하고 수정합니다"})]}),e.jsxs("div",{className:"rounded-lg border border-border bg-card overflow-hidden",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-accent/10 to-accent/5 border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-accent flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]})}),e.jsx("div",{className:"p-6",children:b?e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(c,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"name",className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"이름"}),e.jsx("input",{id:"name",type:"text",value:n,onChange:l=>m(l.target.value),required:!0,disabled:t,className:"mt-1 w-full px-4 py-2.5 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-accent/20 focus:border-accent transition-colors disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"이름을 입력하세요"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(f,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"이메일"}),e.jsx("p",{className:"mt-1 px-4 py-2.5 rounded-lg bg-muted/50 text-muted-foreground",children:s.email}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"이메일은 변경할 수 없습니다"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-border flex items-center gap-3",children:[e.jsx("button",{type:"submit",disabled:t,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-accent text-white font-medium text-sm hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:t?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-4 h-4 animate-spin"}),"저장 중..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4"}),"저장"]})}),e.jsxs("button",{type:"button",onClick:v,disabled:t,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg border border-border text-foreground font-medium text-sm hover:bg-muted/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:[e.jsx(R,{className:"w-4 h-4"}),"취소"]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(c,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"이름"}),e.jsx("p",{className:"text-foreground font-medium mt-1",children:s.name})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(f,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"이메일"}),e.jsx("p",{className:"text-foreground font-medium mt-1",children:s.email})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(M,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"역할"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-accent/10 text-accent border border-accent/20",children:s.role==="admin"?"관리자":"사용자"})})]})]}),e.jsx("div",{className:"pt-4 border-t border-border",children:e.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-accent text-white font-medium text-sm hover:bg-accent/90 transition-colors cursor-pointer",children:[e.jsx(O,{className:"w-4 h-4"}),"프로필 수정"]})})]})})]}),e.jsx("div",{className:"rounded-lg border border-destructive/30 bg-destructive/5 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"위험 영역"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"아래 작업은 신중하게 수행해야 합니다."}),e.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-lg bg-destructive text-white font-medium text-sm hover:bg-destructive/90 transition-colors cursor-pointer",children:[e.jsx(T,{className:"w-4 h-4"}),"로그아웃"]})]})})]})}):e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[e.jsx(c,{className:"w-16 h-16 text-muted-foreground mb-4"}),e.jsx("h1",{className:"text-xl font-semibold mb-2",children:"프로필 정보를 불러올 수 없습니다"}),e.jsx("p",{className:"text-muted-foreground",children:"다시 로그인해주세요."})]})})};export{J as default};
